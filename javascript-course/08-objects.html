<!DOCTYPE html>
<html>
  <head>
    <title>objects</title>
    <link rel = "stylesheet" href = "styles/06-booleans.css"> 
  </head>
  <body>


       <h1 class = "intro">
      Welcome to Rock, Paper, Scissors
    </h1>

    <!-- player buttons-->

    <div class = "Buttons">
    
      <button class = "playRock" onclick= " playGame('rock') ">
        <img class = "rock" src = "images/rock-emoji.png">
      </button>
      <button class = "playPaper" onclick= " playGame('paper') ">
         <img class = "paper" src = "images/paper-emoji.png">
      </button>
      <button class = "playScissors" onclick= " playGame('scissors') ">
         <img class = "Scissors" src = "images/scissors-emoji.png">
      </button>
      <button class = "reset" onclick= " score.wins = 0; score.ties = 0; score.losses = 0; report()" >
        Reset
      </button>
    </div>
      
      <p>Result:</p> 
      <p id = 'matchup'></p>
      <p id = "result"></p> 
      <p id = "scoreboard"> </p>
    <!-- JS starts here-->
    <script>
      let result = ' ';
      let machineMove = '';
      let randomNumber = 0;

      
      //functions

      function playGame(playerMove){
        machMove();
        if (playerMove=='rock'){
            if(machineMove==='rock'){
            score.ties++;
            score.result = 'tie';
          }
          else if(machineMove==='paper') {
           score.losses++;
           score.result = 'lose';
          }
          else{
            score.wins++;
            score.result = 'win';
          }
        }
        else if(playerMove=='paper'){
          if(machineMove==='paper'){
            score.ties++;
            score.result = 'tie';
          }
          else if(machineMove==='scissors') {
            score.losses++;
            score.result = 'lose';
          }
          else{
            score.wins++;
            score.result = 'win';
          }
        }
        else{
            if(machineMove==='scissors'){
            score.ties++;
            score.result = 'tie';
          }
          else if(machineMove==='rock') {
            score.losses++;
            score.result = 'lose';
          }
          else{
            score.wins++;
            score.result = 'win';
          }
        }
        console.log(result);
        report();
        return;
      }
      function machMove(){
        randomNumber = Math.random();
        if(randomNumber < (1/3)){
          machineMove = 'rock';
        }
        else if(randomNumber < (2/3)){  
          machineMove = 'paper';
        }
        else{
          machineMove = 'scissors';
        }
        return machineMove;
      }
      // parsing our JSON string and storing it in SCORE object; also using default operator
      let score = JSON.parse(localStorage.getItem('score')) ||  {
        result: '',
        wins: 0,
        ties: 0,
        losses: 0
        };
      //local storage setup, works with key value pair, both are strings
      localStorage.setItem('score', JSON.stringify(score));
      function report() {
          document.getElementById("result").textContent = `you ${score.result}`;
          document.getElementById("scoreboard").textContent = `wins: ${score.wins} ties: ${score.ties} losses: ${score.losses}`;
        }
      
      // simple object
      const obj1 = {
        message: 'hello',
        atribute2: 'hey'
      };
      //called destructing, we make a variable message, and get the message attribute from obj1 at the same time, storing it at the variable.
      const {message} = obj1; 
      
      

     
    </script>
  </body>