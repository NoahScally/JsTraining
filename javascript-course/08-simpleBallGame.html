<!DOCTYPE html>
<html>
    <head>
        <title> basketBall</title>
        <style>
            .ball{
                height:100px;
                width:100px;
                border-radius: 50%;
                background-color: bisque;
                position: absolute;
                top:100px;
                left:100px;
            }
            .text{
                justify-content: center;
                display: flex;
                flex-direction: row;
            }
        </style>
    </head>
    <body>
        <div class = "text" id = 'text'>Catch me if you can!</div>
        <div class = "ball" id = "ball"></div>
        <script>
            const ball = document.getElementById('ball');
            let curX = 100;
            let curY = 100;
            let targX = curX;
            let targY = curY;
            let moving = false;
            
            function startMoving(){
                 moving = !moving;
                 if(moving){pickNewTarget();}
            }
            function pickNewTarget(){
                const maxX = window.innerWidth-ball.offsetWidth;
                const maxY = window.innerHeight-ball.offsetHeight;
                
                targX = Math.random() * maxX;
                targY = Math.random() *maxY;
            }

            function animateBall(){
                if (moving){
                //smooth moving speed
                const speed = 0.05;
                curX += (targX-curX) * speed;
                curY += (targY-curY) * speed;
                //allows us to access the css element ball and change its position
                ball.style.left = curX + "px";
                ball.style.top = curY + "px";

                const distance = Math.hypot(targX - curX, targY - curY);
                if( distance < 1){pickNewTarget();}
                }
               requestAnimationFrame(animateBall);
            }

            animateBall();
            function youWin(){
               if(!moving){document.getElementById('text').textContent = `you win!`};
            }
            ball.addEventListener('click', ()=>{startMoving(); youWin();} );
        </script>
    </body>


</html>
